"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[677],{3677:(e,n,t)=>{t.r(n),t.d(n,{default:()=>M});var a,i,l,r,s,o=t(2791),c=t(2352),d=t(5551),m=t(2520),p=t(6095),f=t(168),g=t(6088);const x=g.Z.div(a||(a=(0,f.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding-left: 128px;\n  padding-right: 128px;\n"]))),u=g.Z.ul(i||(i=(0,f.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 50px 29px;\n  padding-left: 128px;\n  padding-right: 128px;\n  margin-top: 50px;\n  margin-bottom: 50px;\n"]))),h=g.Z.div(l||(l=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-bottom: 50px;\n"]))),j=g.Z.button(r||(r=(0,f.Z)(["\n  border: none;\n  background-color: transparent;\n"]))),k=g.Z.span(s||(s=(0,f.Z)(["\n  color: #3470ff;\n  font-family: Manrope;\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 500;\n  line-height: 24px; /* 150% */\n  text-decoration-line: underline;\n"])));var w=t(3329);const M=function(){const[e,n]=(0,o.useState)(1),[t,a]=(0,o.useState)([]),{data:i,error:l,isLoading:r}=(0,m.Uh)(e),{data:s}=(0,m.FP)(),[f,g]=(0,o.useState)({make:"",filteredPrices:[],minMileage:"",maxMileage:""}),[M,Z]=(0,o.useState)(null),[v,y]=(0,o.useState)(!1);(0,o.useEffect)((()=>{i&&a((e=>[...e,...i]))}),[i]),(0,o.useEffect)((()=>{if(v)if(f.make||f.filteredPrices.length>0||f.minMileage||f.maxMileage){const e=s.filter((e=>(!f.make||e.make===f.make.value)&&(!(f.filteredPrices.length>0&&!f.filteredPrices.some((n=>n.value===e.rentalPrice.replace("$",""))))&&(!(f.minMileage&&e.mileage<f.minMileage)&&!(f.maxMileage&&e.mileage>f.maxMileage)))));Z(e)}else Z(t),y(!1)}),[f,s,v,t]);const b=s?[...new Set(s.map((e=>e.make)))]:[],S=s?[...new Set(s.map((e=>e.rentalPrice.replace("$",""))))]:[],P=s?[...new Set(s.map((e=>e.mileage)))]:[],C=Math.min(...P),F=Math.max(...P);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(x,{children:(0,w.jsx)(d.Z,{makes:b,prices:S,minMileage:C,maxMileage:F,onFilterChange:e=>{g(e),y(!0)},filters:f})}),(0,w.jsx)(u,{children:v?null!==M&&M.length>0?M.map(((e,n)=>(0,w.jsx)(c.Z,{data:e},n))):(0,w.jsx)("div",{children:"No results found for the selected criteria."}):l?(0,w.jsx)(w.Fragment,{children:"Oops, there was an error..."}):r?(0,w.jsx)(p.a,{}):t.length>0?t.map(((e,n)=>(0,w.jsx)(c.Z,{data:e},n))):null}),(0,w.jsx)(h,{children:!v&&(null===i||void 0===i?void 0:i.length)>=8&&(0,w.jsx)(j,{type:"button",onClick:()=>{n(e+1)},children:(0,w.jsx)(k,{children:"Load more"})})})]})}}}]);
//# sourceMappingURL=677.e13549b2.chunk.js.map