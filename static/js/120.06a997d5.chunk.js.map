{"version":3,"file":"static/js/120.06a997d5.chunk.js","mappings":"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","sources":["pages/FavoritePage/FavoritePage.styled.jsx","pages/FavoritePage/FavoritePage.jsx"],"sourcesContent":["import styled from '@emotion/styled';\nimport { Link } from 'react-router-dom';\nimport EmptyFav from '../../images/favorites__empty_.png';\n\nexport const WrapperSelect = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n`;\n\nexport const Wrapper = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 50px 29px;\n  margin-top: 50px;\n  margin-bottom: 50px;\n\n  @media screen and (min-width: 425px) {\n    padding-left: 128px;\n    padding-right: 128px;\n  }\n`;\n\nexport const WrapperLink = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const Button = styled(Link)`\n  padding: 14px 34px;\n  justify-content: center;\n  align-items: center;\n  border-radius: 12px;\n  background: #3470ff;\n  color: #fff;\n  margin-top: 5px;\n  font-family: 'Manrope';\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 1.42;\n  text-transform: none;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n  &:hover {\n    background-color: #0b44cd;\n  }\n`;\n\nexport const ImgEmptyFav = styled.img`\n  margin-top: 5px;\n  border-radius: 14px;\n  width: 20vw;\n  content: url(${EmptyFav});\n`;\n","import { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { selectFavorites } from 'redux/selectors';\n\nimport CardItem from 'components/CardItem/CardItem';\nimport SelectForm from 'components/Select/Select';\nimport {\n  WrapperSelect,\n  Wrapper,\n  WrapperLink,\n  Button,\n  ImgEmptyFav,\n} from './FavoritePage.styled';\n\nfunction FavoritePage() {\n  const [catalog, setCatalog] = useState([]);\n  const cars = useSelector(selectFavorites);\n\n  useEffect(() => {\n    if (cars) {\n      setCatalog(cars);\n    }\n  }, [cars]);\n\n  const [filters, setFilters] = useState({\n    make: '',\n    filteredPrices: [],\n    minMileage: '',\n    maxMileage: '',\n  });\n  const [filteredAdverts, setFilteredAdverts] = useState(null);\n  const [isFiltering, setIsFiltering] = useState(false);\n\n  useEffect(() => {\n    if (isFiltering) {\n      if (\n        filters.make ||\n        filters.filteredPrices.length > 0 ||\n        filters.minMileage ||\n        filters.maxMileage\n      ) {\n        const filteredAdverts = catalog.filter(advert => {\n          if (filters.make && advert.make !== filters.make.value) {\n            return false;\n          }\n          if (\n            filters.filteredPrices.length > 0 &&\n            !filters.filteredPrices.some(\n              priceObj => priceObj.value === advert.rentalPrice.replace('$', '')\n            )\n          ) {\n            return false;\n          }\n          if (filters.minMileage && advert.mileage < filters.minMileage) {\n            return false;\n          }\n          if (filters.maxMileage && advert.mileage > filters.maxMileage) {\n            return false;\n          }\n          return true;\n        });\n        setFilteredAdverts(filteredAdverts);\n      } else {\n        setFilteredAdverts([]);\n      }\n    }\n  }, [filters, catalog, isFiltering]);\n\n  const makes = catalog ? [...new Set(catalog.map(advert => advert.make))] : [];\n  const prices = catalog\n    ? [...new Set(catalog.map(advert => advert.rentalPrice.replace('$', '')))]\n    : [];\n  const mileage = catalog\n    ? [...new Set(catalog.map(advert => advert.mileage))]\n    : [];\n  const minMileage = Math.min(...mileage);\n  const maxMileage = Math.max(...mileage);\n  console.log(filters);\n  return (\n    <>\n      <WrapperSelect>\n        <SelectForm\n          makes={makes}\n          prices={prices}\n          minMileage={minMileage}\n          maxMileage={maxMileage}\n          onFilterChange={newFilters => {\n            setFilters(newFilters);\n            setIsFiltering(true);\n          }}\n          filters={filters}\n        />\n      </WrapperSelect>\n      <Wrapper>\n        {isFiltering ? (\n          filteredAdverts !== null && filteredAdverts.length > 0 ? (\n            filteredAdverts.map((car, index) => (\n              <CardItem key={index} data={car} />\n            ))\n          ) : (\n            <div>No results found for the selected criteria.</div>\n          )\n        ) : catalog.length > 0 ? (\n          catalog.map((car, index) => <CardItem key={index} data={car} />)\n        ) : (\n          <WrapperLink>\n            <span>Favorite is empty.</span>\n            <ImgEmptyFav alt=\"favorite-is-empty\" />\n            <Button to={'/catalog'}>Go to catalog</Button>\n          </WrapperLink>\n        )}\n      </Wrapper>\n    </>\n  );\n}\n\nexport default FavoritePage;\n"],"names":["WrapperSelect","styled","div","_templateObject","_taggedTemplateLiteral","Wrapper","ul","_templateObject2","WrapperLink","_templateObject3","Button","Link","_templateObject4","ImgEmptyFav","img","_templateObject5","EmptyFav","catalog","setCatalog","useState","cars","useSelector","selectFavorites","useEffect","filters","setFilters","make","filteredPrices","minMileage","maxMileage","filteredAdverts","setFilteredAdverts","isFiltering","setIsFiltering","length","filter","advert","value","some","priceObj","rentalPrice","replace","mileage","makes","Set","map","prices","Math","min","max","console","log","_jsxs","_Fragment","children","_jsx","SelectForm","onFilterChange","newFilters","car","index","CardItem","data","alt","to"],"sourceRoot":""}